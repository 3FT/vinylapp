!function(){angular.module("vinylApp",["ngRoute","ngGravatar","ngFileUpload","ngResource","validation.match","ngAnimate","ui.bootstrap","ui.sortable"])}(),function(){"use strict";angular.module("ngGravatar",["angular-md5"]),angular.module("ngGravatar").directive("gravatar",function(){return{replace:!0,restrict:"E",template:"<img ng-src={{gravatarUrl}}>",scope:{email:"="},controller:["$scope","md5",function(e,t){var i=200,r="http://www.gravatar.com/avatar/";e.$watch("email",function(n,a){e.gravatarUrl=r+t.createHash(n||"")+"?size="+i.toString()})}]}})}(),function(){function e(e,t,i,r){var n=this;n.styles=["rock","blues","funk"],n.artist={images:[]},n.createArtist=function(r){console.log(r),e.createArtist(r).$promise.then(function(n){r._id=n._id,e.updateArtistFiles(r).then(function(e){i.success("artist added"),t.path("/artists")})})},n.removeImage=function(e,t){e.splice(t,1)},r.$watch("vm.uploads",function(e,t){if(e)for(var i=0;i<e.length;i++)n.artist.images.push(e[i])})}angular.module("vinylApp").controller("ArtistsCreateCtrl",["artistsData","$location","toastrNotification","$scope",e])}(),function(){function e(e,t,i,r){var n=this;n.styles=["rock","blues","funk"],n.artist=e.getArtist(t.id),n.updateArtist=function(t){e.updateArtist(t).$promise.then(function(n){e.updateArtistFiles(t).then(function(e){r.success("artist updated"),i.path("/artists/"+t._id)})}).catch(function(e){console.log(e.data.message)})},n.removeImage=function(e,t){e.splice(t,1)}}angular.module("vinylApp").controller("ArtistsEditCtrl",["artistsData","$routeParams","$location","toastrNotification",e])}(),function(){function e(e,t){var i=this;i.artists=e.getAllArtists()}angular.module("vinylApp").controller("ArtistsIndexCtrl",["artistsData",e])}(),function(){function e(e,t,i,r,n){var a=this;e.getArtist(i.id).$promise.then(function(e){console.log(e),a.artist=e,a.isOwner=t.currentUser()&&t.currentUser()._id===e.addedBy,console.log(e)}),a.deleteArtist=function(){console.log(i.id),e.deleteArtist(i.id).$promise.then(function(e){n.success("artist deleted"),r.path("/artists")})}}angular.module("vinylApp").controller("ArtistsShowCtrl",["artistsData","authentication","$routeParams","$location","toastrNotification",e])}(),function(){function e(e){var t=this;t.isLoggedIn=function(){return e.isLoggedIn()},t.currentUser=function(){return e.currentUser()}}angular.module("vinylApp").controller("homeCtrl",["authentication",e])}(),function(){function e(e,t){var i=this;i.createUser=function(r){t.createUser(r).then(function(t){e.path("/"),console.log(r)}).catch(function(e){console.log(e),i.errMessage=e.data.message})}}angular.module("vinylApp").controller("UsersCreateCtrl",["$location","usersData",e])}(),function(){function e(e,t,i,r){var n=this;n.user=t.getUser(e.id),n.updateUser=function(n){t.updateUser(n).then(function(t){r.success("profile updated"),i.path("/users/"+e.id),console.log(n)}).catch(function(e){console.log(e)})}}angular.module("vinylApp").controller("UsersEditCtrl",["$routeParams","usersData","$location","toastrNotification",e])}(),function(){"use strict";function e(e){var t=this;t.users=e.getAllUsers()}angular.module("vinylApp").controller("usersIndexCtrl",["usersData",e])}(),function(){function e(e,t,i){var r=this;r.user=t.getUser(e.id),r.isOwner=i.isLoggedIn()&&i.currentUser()._id===e.id}angular.module("vinylApp").controller("usersShowCtrl",["$routeParams","usersData","authentication",e])}(),function(){function e(e,t,i,r){var n=this;n.vinyl={tracklist:[]},t.getArtistNames().then(function(e){n.artistNames=e}),n.createVinyl=function(t){e.createVinyl(t).$promise.then(function(n){t._id=n._id,e.updateVinylFile(t).then(function(e){r.success("vinyl added"),i.path("/vinyls")})})}}angular.module("vinylApp").controller("vinylsCreateCtrl",["vinylsData","artistsData","$location","toastrNotification",e])}(),function(){function e(e,t,i,r,n){var a=this;a.vinyl=e.getVinyl(i.id),t.getArtistNames().then(function(e){a.artistNames=e}),a.updateVinyl=function(t){e.updateVinyl(t).$promise.then(function(i){e.updateVinylFile(t).then(function(e){n.success("vinyl updated"),r.path("/vinyls/"+t._id)})})}}angular.module("vinylApp").controller("vinylsEditCtrl",["vinylsData","artistsData","$routeParams","$location","toastrNotification",e])}(),function(){function e(e){var t=this;t.vinyls=e.getAllVinyls()}angular.module("vinylApp").controller("vinylsIndexCtrl",["vinylsData",e])}(),function(){function e(e,t,i,r,n){function a(e){for(var t=0,i=0;i<e.reviews.length;i++)t+=e.reviews[i].stars;var r=t/e.reviews.length;e.averageRating=r}var s=this;e.getVinyl(t.id).$promise.then(function(e){console.log(e),s.vinyl=e,s.isOwner=r.currentUser()&&r.currentUser()._id===e.addedBy}),s.deleteVinyl=function(){e.deleteVinyl(t.id).$promise.then(function(e){i.path("/vinyls")})},s.updateVinylReview=function(t){s.vinyl.review=t,a(s.vinyl),console.log(s.vinyl),e.updateVinylReview(s.vinyl).$promise.then(function(){})}}angular.module("vinylApp").controller("vinylsShowCtrl",["vinylsData","$routeParams","$location","authentication","toastrNotification",e])}(),function(){angular.module("vinylApp").config(["$locationProvider",function(e){e.hashPrefix("")}])}(),function(){angular.module("vinylApp").filter("timeAgo",function(){return function(e){function t(e,t){return Math.floor(e/t)}function i(e){return 1!==e?"s":""}function r(e,t){return e+" "+t+i(e)+" ago"}var n,a=Date.now()-e,s=a/1e3,l=1,o=60*l,d=60*o,c=24*d,u=7*c,m=30*c,v=12*m;return s<o?(n=t(s,l),r(n,"second")):s<d?(n=t(s,o),r(n,"minute")):s<c?(n=t(s,d),r(n,"hour")):s<u?(n=t(s,c),r(n,"day")):s<m?(n=t(s,u),r(n,"week")):s<v?(n=t(s,m),r(n,"month")):(n=t(s,v),r(n,"year"))}})}(),function(){angular.module("vinylApp").filter("twoDigits",function(){return function(e){return"number"!=typeof e||e<0||e>99?"bad input...":("0"+e).slice(-2)}})}(),function(){angular.module("vinylApp").config(["$routeProvider",function(e){e.when("/",{templateUrl:"/app/home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/login",{templateUrl:"/app/auth/login/login.view.html",controller:"loginCtrl",controllerAs:"vm"}).when("/profile",{templateUrl:"/app/profile/profile.view.html",controller:"profileCtrl",controllerAs:"vm"}).when("/vinyls",{templateUrl:"/app/vinyls/views/index.html",controller:"vinylsIndexCtrl",controllerAs:"vm"}).when("/vinyls/new",{templateUrl:"/app/vinyls/views/new.html",controller:"vinylsCreateCtrl",controllerAs:"vm"}).when("/vinyls/:id/edit",{templateUrl:"/app/vinyls/views/edit.html",controller:"vinylsEditCtrl",controllerAs:"vm"}).when("/vinyls/:id",{templateUrl:"/app/vinyls/views/show.html",controller:"vinylsShowCtrl",controllerAs:"vm"}).when("/artists",{templateUrl:"/app/artists/views/index.html",controller:"ArtistsIndexCtrl",controllerAs:"vm"}).when("/artists/new",{templateUrl:"/app/artists/views/new.html",controller:"ArtistsCreateCtrl",controllerAs:"vm"}).when("/artists/:id/edit",{templateUrl:"/app/artists/views/edit.html",controller:"ArtistsEditCtrl",controllerAs:"vm"}).when("/artists/:id",{templateUrl:"/app/artists/views/show.html",controller:"ArtistsShowCtrl",controllerAs:"vm"}).when("/users",{templateUrl:"/app/users/views/index.html",controller:"usersIndexCtrl",controllerAs:"vm"}).when("/users/new",{templateUrl:"/app/users/views/new.html",controller:"UsersCreateCtrl",controllerAs:"vm"}).when("/users/:id/edit",{templateUrl:"/app/users/views/edit.html",controller:"UsersEditCtrl",controllerAs:"vm"}).when("/users/:id",{templateUrl:"/app/users/views/show.html",controller:"usersShowCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"})}])}(),function(){function e(e,t,i){var r="/artists/:id",n={Authorization:function(){return"Bearer "+t.getToken()}},a={get:{method:"GET",headers:n},save:{method:"POST",headers:n},create:{method:"POST",headers:n},query:{method:"GET",isArray:!0,headers:n},remove:{method:"DELETE",headers:n},delete:{method:"DELETE",headers:n},update:{method:"PUT",headers:n}},s=e(r,{id:"@id"},a),l=function(){return s.query()},o=function(e){return s.get({id:e})},d=function(e){return s.create(e)},c=function(e){return s.delete({id:e})},u=function(e){return s.update({id:e._id},e)},m=function(e){var r=e.images;return i.upload({method:"PUT",url:"/artists/files/"+e._id,headers:{Authorization:"Bearer "+t.getToken()},arrayKey:"",data:{images:r}})},v=function(){return l().$promise.then(function(e){return e.map(function(e){return e._id})})};return{getAllArtists:l,getArtist:o,createArtist:d,deleteArtist:c,updateArtist:u,updateArtistFiles:m,getArtistNames:v}}angular.module("vinylApp").factory("artistsData",["$resource","authentication","Upload",e])}(),function(){"use strict";function e(e,t){var i=function(e){t.localStorage["mean-token"]=e},r=function(){return t.localStorage["mean-token"]},n=function(){var e,i=r();return!!i&&(e=i.split(".")[1],e=t.atob(e),e=JSON.parse(e),e.exp>Date.now()/1e3)},a=function(){if(n()){var e=r(),i=e.split(".")[1];return i=t.atob(i),i=JSON.parse(i),{_id:i._id,email:i.email}}},s=function(t){return e.post("/auth/login",t).then(function(e){console.log(e),i(e.data.token)})},l=function(){t.localStorage.removeItem("mean-token")};return{currentUser:a,saveToken:i,getToken:r,isLoggedIn:n,login:s,logout:l}}angular.module("vinylApp").factory("authentication",["$http","$window",e])}(),function(){"use strict";function e(){function e(e,t){return Math.floor(e/t)}function t(e){return 1!==e?"s":""}function i(e,i){return e+" "+i+t(e)+" ago"}var r=function(t){var r,n=Date.now()-t,a=n/1e3,s=1,l=60*s,o=60*l,d=24*o,c=7*d,u=30*d,m=12*u;return a<l?(r=e(a,s),i(r,"second")):a<o?(r=e(a,l),i(r,"minute")):a<d?(r=e(a,o),i(r,"hour")):a<c?(r=e(a,d),i(r,"day")):a<u?(r=e(a,c),i(r,"week")):a<m?(r=e(a,u),i(r,"month")):(r=e(a,m),i(r,"year"))};return{getTime:r}}angular.module("vinylApp").factory("time",e)}(),function(){"use strict";function e(){return{success:function(e){toastr.success(e,"Success")},error:function(e){toastr.error(e,"Error")}}}angular.module("vinylApp").factory("toastrNotification",e)}(),function(){function e(e,t){var i="/users/:id",r={Authorization:function(){return"Bearer "+t.getToken()}},n={get:{method:"GET",headers:r},save:{method:"POST",headers:r},create:{method:"POST",headers:r},query:{method:"GET",isArray:!0,headers:r},remove:{method:"DELETE",headers:r},delete:{method:"DELETE",headers:r},update:{method:"PUT",headers:r}},a=e(i,{id:"@id"},n),s=function(){return a.query()},l=function(e){return a.get({id:e})},o=function(e){return a.update({id:e._id},e).$promise.then(function(e){t.saveToken(e.token)})},d=function(e){return a.create(e).$promise.then(function(e){t.saveToken(e.token)})};return{getUser:l,getAllUsers:s,updateUser:o,createUser:d}}angular.module("vinylApp").factory("usersData",["$resource","authentication",e])}(),function(){function e(e,t,i){var r="/vinyls/:id",n="/vinyls/reviews/:id",a={Authorization:function(){return"Bearer "+i.getToken()}},s={get:{method:"GET",headers:a},save:{method:"POST",headers:a},create:{method:"POST",headers:a},query:{method:"GET",isArray:!0,headers:a},remove:{method:"DELETE",headers:a},delete:{method:"DELETE",headers:a},update:{method:"PUT",headers:a}},l=e(r,{id:"@id"},s),o=e(n,{id:"@id"},s),d=function(){return l.query()},c=function(e){return l.get({id:e})},u=function(e){return l.create(e)},m=function(e){return l.update({id:e._id},e)},v=function(e){return l.delete({id:e})},p=function(e){var r=e.images&&e.images.frontCover,n=e.images&&e.images.backCover;return t.upload({method:"PUT",url:"/vinyls/files/"+e._id,headers:{Authorization:"Bearer "+i.getToken()},data:{frontCover:r,backCover:n}})},g=function(e){return o.update({id:e._id},e)};return{getAllVinyls:d,getVinyl:c,createVinyl:u,updateVinyl:m,deleteVinyl:v,updateVinylFile:p,updateVinylReview:g}}angular.module("vinylApp").factory("vinylsData",["$resource","Upload","authentication",e])}(),function(){function e(e,t){var i=this;i.credentials={email:"",password:""},i.onSubmit=function(){t.login(i.credentials).then(function(){e.path("/")}).catch(function(e){i.errMessage=e.data.message})}}angular.module("vinylApp").controller("loginCtrl",["$location","authentication",e])}(),function(){"use strict";function e(e,t){var i=this;i.credentials={_id:"",email:"",password:""},i.onSubmit=function(){t.register(i.credentials).then(function(){e.path("/")}).catch(function(e){i.errMessage=e.data.message})}}angular.module("vinylApp").controller("registerCtrl",["$location","authentication",e])}(),function(){function e(e,t,i){function r(e,t){var i=0;return angular.forEach(e,function(e){i+=e.addedBy===t?1:0}),i}var n=this;e.getAllVinyls().$promise.then(function(e){n.myVinylCount=r(e,i.currentUser()._id)}),t.getAllArtists().$promise.then(function(e){n.myArtistCount=r(e,i.currentUser()._id)})}angular.module("vinylApp").controller("DashboardCtrl",["vinylsData","artistsData","authentication",e])}(),function(){function e(){return{restrict:"E",controller:"DashboardCtrl as dbdvm",templateUrl:"/app/home/directives/dashboard.template.html"}}angular.module("vinylApp").directive("dashboard",e)}(),function(){"use strict";angular.module("vinylApp").component("errorHeader",{templateUrl:"/app/common/components/errorHeader/errorHeader.template.html",bindings:{message:"="},controllerAs:"vm"})}(),function(){"use strict";function e(e,t){var i=this;i.isLoggedIn=function(){return t.isLoggedIn()},i.currentUser=function(){return t.currentUser()},i.logOut=function(){t.logout(),e.path("/")}}angular.module("vinylApp").component("navigation",{templateUrl:"/app/common/components/navigation/navigation.template.html",controller:["$location","authentication",e],controllerAs:"vm",bindings:{images:"="}})}(),function(){"use strict";angular.module("vinylApp").component("starRating",{templateUrl:"/app/common/components/starRating/starRating.template.html",controller:"StarRatingController",controllerAs:"vm",bindings:{ratingValue:"=",isReadOnly:"="}})}(),function(){function e(e){function t(e,t){var i=e/t||0;return 100*i+"%"}var i=this;i.max=5,i.getNumber=function(e){return new Array(e)},i.toggle=function(e){i.isReadOnly||(i.ratingValue=e+1,i.percentage=t(i.ratingValue,i.max))},e.$watch("vm.ratingValue",function(e,r){i.percentage=t(i.ratingValue,i.max)})}angular.module("vinylApp").controller("StarRatingController",["$scope",e])}(),function(){"use strict";function e(e,t){var i=this;i.currentUser=e.currentUser()._id,i.isLoggedIn=e.isLoggedIn(),i.addReview=function(r){r.author=e.currentUser()._id,r.createdOn=Date.now(),i.reviews.push(i.review),i.clearReviewForm(),i.updateMethod({review:i.reviews}),t.success("review added")},i.editReview=function(e){i.editionIndex=e,i.review=Object.create(i.reviews[e])},i.deleteReview=function(e){i.reviews.splice(e,1),i.updateMethod({review:i.reviews}),t.success("review deleted")},i.clearReviewForm=function(){i.review=null,i.editionIndex=null},i.updateReview=function(e,r){e.createdOn=Date.now(),i.reviews[r]=e,i.clearReviewForm(),i.updateMethod({review:i.reviews}),t.success("review updated")}}angular.module("vinylApp").component("reviews",{templateUrl:"/app/common/components/reviews/reviews.template.html",controller:["authentication","toastrNotification",e],controllerAs:"vm",bindings:{reviews:"=",updateMethod:"&"}})}(),function(){"use strict";function e(e){var t=this;e.$watch("vm.uploads",function(e,i){if(e)for(var r=0;r<e.length;r++)t.images.push(e[r])}),t.removeImage=function(e,t){e.splice(t,1)}}angular.module("vinylApp").component("uploadBox",{templateUrl:"/app/common/components/uploadBox/uploadBox.template.html",controller:["$scope",e],controllerAs:"vm",bindings:{images:"="}})}(),function(){function e(){return{restrict:"E",templateUrl:"/app/common/directives/footer/footer.template.html"}}angular.module("vinylApp").directive("footer",e)}(),function(){"use strict";function e(){return{restrict:"E",template:'<a ng-click="open()">open modal lev</a>',controller:["$scope","$uibModal",t],scope:{url:"@"}}}function t(e,t){var i={template:'<img src="{{url}}">',scope:e};e.open=function(){t.open(i)}}angular.module("vinylApp").directive("modalImage",e)}(),function(){"use strict";angular.module("vinylApp").directive("singleFileDrop",function(){return{replace:!0,restrict:"E",templateUrl:"/app/common/directives/singleFileDrop/singleFileDrop.template.html",scope:{file:"=",caption:"@"}}})}(),function(){"use strict";angular.module("vinylApp").directive("timeElapsed",["time","$interval",function(e,t){return{replace:!0,restrict:"E",template:"<span>{{timeElapsed}}</span>",scope:{input:"="},link:function(i,r,n){var a=t(function(){i.timeElapsed=e.getTime(i.input)},1e3);i.$on("$destroy",function(){t.cancel(a)})}}}])}(),function(){"use strict";function e(){function e(){t.track={title:"",duration:{minutes:"",seconds:""}}}var t=this;t.addTrack=function(t,i){i.push(t),e()},t.removeTrack=function(e,t){t.splice(e,1)},t.sortableOptions={update:function(e,i){console.log(t.tracklist)}}}angular.module("vinylApp").component("tracklistEditor",{templateUrl:"/app/vinyls/components/tracklistEditor/tracklistEditor.template.html",controller:e,controllerAs:"vm",bindings:{tracklist:"=",isReadOnly:"="}})}(),angular.module("vinylApp").run(["$templateCache",function(e){e.put("/app/home/home.view.html","<div class=container ng-hide=vm.isLoggedIn()><h1>Hello there</h1><p>Won't you please <a href=#/login>sign in</a> or <a href=#/users/new>register</a>?</p></div><div class=container ng-if=vm.isLoggedIn()><h1>Welcome {{vm.currentUser()._id}} !</h1><dashboard></dashboard></div>"),e.put("/app/artists/views/edit.html",'<div class=container><h1>You are editing artist {{vm.artist._id}}...</h1><form name=newUserForm novalidate ng-submit="newUserForm.$valid && vm.updateArtist(vm.artist)"><div class=form-group><label for=style>Style:</label><br><select class=form-control id=style ng-options="style for style in vm.styles" ng-model=vm.artist.style required></select></div><upload-box images=vm.artist.images></upload-box><button type=submit class="btn btn-success">Save your Update</button></form></div>'),e.put("/app/artists/views/index.html",'<div class=container><div class=row><div ng-repeat="artist in vm.artists" class=col-sm-4><a ng-href=#/artists/{{artist._id}}><img ng-src="{{artist.images[0] || \'images/artist-default.jpg\'}}" class=img-responsive><h2>{{artist._id}}</h2></a> <span class="label label-info">{{artist.style}}</span><p>added by: <a ng-href=#/users/{{artist.addedBy}}>{{artist.addedBy}}</a></p><time-elapsed input=artist.dateAdded></time-elapsed></div></div></div>'),e.put("/app/artists/views/new.html",'<div class=container><h1>New Artist</h1><form name=newUserForm novalidate ng-submit="newUserForm.$valid && vm.createArtist(vm.artist)"><div class=form-group><label for=name>Name:</label> <input type=text class=form-control id=name ng-model=vm.artist._id required></div><div class=form-group><label for=style>Style:</label><br><select class=form-control id=style ng-options="style for style in vm.styles" ng-model=vm.artist.style required></select></div><upload-box images=vm.artist.images></upload-box><button type=submit class="btn btn-success">Save</button></form></div>'),e.put("/app/artists/views/show.html",'<div class=container><div class=jumbotron><h1>{{vm.artist._id}}</h1></div><h3>style</h3><p>{{vm.artist.style}}</p><div active=active uib-carousel><div uib-slide ng-repeat="image in vm.artist.images track by $index" index=$index><img ng-src={{image}} style="width: 100%"></div></div><div ng-show=vm.isOwner><a href="#/artists/{{vm.artist._id}}/edit/"><button type=button class="btn btn-warning">Edit</button></a> <button type=button class="btn btn-danger" ng-click=vm.deleteArtist(vm.artist)>Delete</button></div></div>'),e.put("/app/auth/login/login.view.html",'<error-header message=vm.errMessage></error-header><div class=container><form ng-submit=vm.onSubmit()><div class=form-group><label for=email>Email address</label> <input type=email class=form-control id=email placeholder="Enter email" ng-model=vm.credentials.email></div><div class=form-group><label for=password>Password</label> <input type=password class=form-control id=password placeholder=Password ng-model=vm.credentials.password></div><p>Not a Member yet ? <a href=#/users/new>Register</a></p><button type=submit class="btn btn-default">Sign in!</button></form></div>'),e.put("/app/auth/register/register.view.html",'<error-header message=vm.errMessage></error-header><div class=container><form ng-submit=vm.onSubmit()><div class=form-group><label for=name>Full name</label> <input type=text class=form-control id=name placeholder="Enter your name" ng-model=vm.credentials._id></div><div class=form-group><label for=email>Email address</label> <input type=email class=form-control id=email placeholder="Enter email" ng-model=vm.credentials.email></div><div class=form-group><label for=password>Password</label> <input type=password class=form-control id=password placeholder=Password ng-model=vm.credentials.password></div><button type=submit class="btn btn-default">Register!</button></form></div>'),e.put("/app/home/directives/dashboard.template.html",'<h4>This is your dashboard:</h4><div class=row><div class="col-sm-6 text-center"><div class=jumbotron><h1>{{dbdvm.myVinylCount}}</h1><h2>records</h2></div></div><div class="col-sm-6 text-center" "><div class=jumbotron><h1>{{dbdvm.myArtistCount}}</h1><h2>artists</h2></div></div></div>'),e.put("/app/users/views/edit.html",'<error-header message=vm.errMessage></error-header><div class=container><h2>Edit your profile here, {{vm.user._id}}...</h2><form><div class=form-group><label for=email>Email address</label> <input type=email class=form-control id=email placeholder="Enter email" ng-model=vm.user.email></div><div class=form-group><label for=password>Password</label> <input type=password class=form-control id=password placeholder=Password ng-model=vm.user.password></div><div class=form-group><label for=password>Confirm password</label> <input type=password match=vm.user.password class=form-control id=password placeholder=Password ng-model=vm.user.passwordCopy></div><button type=submit class="btn btn-success" ng-click=vm.updateUser(vm.user)>Update my profile</button></form></div>'),e.put("/app/users/views/index.html",'<div class=container><div class=row><div ng-repeat="user in vm.users" class=col-sm-4><a ng-href=#/users/{{user._id}}><gravatar email=user.email></gravatar><h3>{{user._id}}</h3></a><p>joined<time-elapsed input=user.dateJoined></time-elapsed></p></div></div></div>'),e.put("/app/users/views/new.html",'<error-header message=vm.errMessage></error-header><div class=container><form novalidate name=registerForm ng-submit="registerForm.$valid && vm.createUser(vm.user)"><div class=form-group><label for=name>Full name</label> <input type=text required class=form-control id=name placeholder="Enter your name" ng-model=vm.user._id></div><div class=form-group><label for=email>Email address</label> <input type=email required class=form-control id=email name=email placeholder="Enter email" ng-model=vm.user.email></div><div class=form-group><label for=password>Password</label> <input type=password required class=form-control id=password name=password placeholder=Password ng-model=vm.user.password></div><div class=form-group><label for=passwordCOpy>Confirm password</label> <input type=password match=vm.user.password required class=form-control id=passwordCopy name=passwordCopy placeholder=Password ng-model=vm.user.passwordCopy></div><button type=submit class="btn btn-default">Register!</button></form></div>'),e.put("/app/users/views/show.html",'<div class=container><gravatar email=vm.user.email></gravatar><h1>Username</h1><p>{{vm.user._id}}</p><h1>email</h1><p>{{vm.user.email}}</p><div ng-show=vm.isOwner><a href="#/users/{{vm.user._id}}/edit/"><button type=button class="btn btn-warning">Edit my profile</button></a></div></div>'),e.put("/app/vinyls/views/edit.html",'<div class=container><h1>Edit Vinyl</h1><form><fieldset class=form-group><label for=description>artist</label><br><input type=text ng-model=vm.vinyl.artist_id uib-typeahead="name for name in vm.artistNames | filter:$viewValue | limitTo:8" class=form-control></fieldset><fieldset class=form-group><label for=title>album</label> <input class=form-control type=text id=title name=title ng-model=vm.vinyl.album></fieldset><fieldset class=form-group><label for=content>year</label> <input class=form-control type=text id=content name=content ng-model=vm.vinyl.year></fieldset><fieldset class=form-group><label for=cover>cover</label><br></fieldset><div class=row><div class=col-sm-6><single-file-drop file=vm.vinyl.images.frontCover caption="add front"></single-file-drop></div><div class=col-sm-6><single-file-drop file=vm.vinyl.images.backCover caption="add back"></single-file-drop></div></div></form><tracklist-editor tracklist=vm.vinyl.tracklist is-read-only=false></tracklist-editor><button type=button class="btn btn-success" ng-click=vm.updateVinyl(vm.vinyl)>Save</button></div>'),e.put("/app/vinyls/views/index.html",'<div class=container><div class=row><div ng-repeat="vinyl in vm.vinyls" class=col-sm-4><a ng-href=#/vinyls/{{vinyl._id}}><img ng-src="{{vinyl.images.frontCover || \'images/vinyl-default.jpg\'}}" class=img-responsive><h2>{{vinyl.artist_id}}</h2><h3>{{vinyl.album}}</h3></a><star-rating rating-value=vinyl.averageRating is-read-only=true></star-rating><p>added by <a ng-href=#/users/{{vinyl.addedBy}}>{{vinyl.addedBy}}</a></p><time-elapsed input=vinyl.dateAdded></time-elapsed></div></div></div>'),e.put("/app/vinyls/views/new.html",'<div class=container><h1>New Vinyl</h1><form><fieldset class=form-group><label for=description>artist</label><br><input type=text ng-model=vm.vinyl.artist_id uib-typeahead="name for name in vm.artistNames | filter: $viewValue | limitTo:8" class=form-control></fieldset><fieldset class=form-group><label for=title>album</label> <input class=form-control type=text id=title name=title ng-model=vm.vinyl.album></fieldset><fieldset class=form-group><label for=content>year</label> <input class=form-control type=text id=content name=content ng-model=vm.vinyl.year></fieldset><fieldset class=form-group><label for=cover>cover</label><br></fieldset><div class=row><div class=col-sm-6><single-file-drop file=vm.vinyl.images.frontCover caption="add front"></single-file-drop></div><div class=col-sm-6><single-file-drop file=vm.vinyl.images.backCover caption="add back"></single-file-drop></div></div></form><tracklist-editor tracklist=vm.vinyl.tracklist></tracklist-editor><button type=button class="btn btn-success" ng-click=vm.createVinyl(vm.vinyl)>Save</button></div>'),e.put("/app/vinyls/views/show.html",'<div class=container><div class=row><div class=col-sm-6><img ng-src="{{vm.vinyl.images.frontCover || \'images/vinyl-default.jpg\'}}" class=img-responsive></div><div class=col-sm-6><img ng-src="{{vm.vinyl.images.backCover || \'images/vinyl-default.jpg\'}}" class=img-responsive></div></div><h2>artist</h2><a ng-href=#/artists/{{vm.vinyl.artist_id}}>{{vm.vinyl.artist_id}}</a><h3>album</h3><p>{{vm.vinyl.album}}</p><h3>average rating</h3><star-rating rating-value=vm.vinyl.averageRating is-read-only=true></star-rating><h3>year</h3><p>{{vm.vinyl.year}}</p><tracklist-editor tracklist=vm.vinyl.tracklist is-read-only=true></tracklist-editor><reviews reviews=vm.vinyl.reviews update-method=vm.updateVinylReview(review)></reviews><div ng-show=vm.isOwner><a href="#/vinyls/{{vm.vinyl._id}}/edit/"><button type=button class="btn btn-warning pull-right">Edit</button></a> <button type=button class="btn btn-danger pull-right" ng-click=vm.deleteVinyl(vm.vinyl)>Delete</button></div></div>'),e.put("/app/common/components/errorHeader/errorHeader.template.html",'<div ng-show=vm.message class=container><div class="alert alert-danger"><strong>Oops!</strong> {{vm.message}}</div></div>'),e.put("/app/common/components/navigation/navigation.template.html",'<nav class="navbar navbar-default"><div class=container><div class=navbar-header><a class=navbar-brand href="/#/">Vinyl store</a></div><ul class="nav navbar-nav"><li><a href=#/vinyls>Vinyls</a></li><li ng-show=vm.isLoggedIn()><a href=#/vinyls/new>Add vinyl</a></li><li><a href=#/artists>Artists</a></li><li ng-show=vm.isLoggedIn()><a href=#/artists/new>Add artist</a></li><li><a href=#/users>Users</a></li></ul><ul class="nav navbar-nav navbar-right"><li ng-hide=vm.isLoggedIn()><a href=#/login><span class="glyphicon glyphicon-log-in"></span> Sign in</a></li><li ng-show=vm.isLoggedIn()><a href=#/users/{{vm.currentUser()._id}}><span class="glyphicon glyphicon-user"></span> {{vm.currentUser()._id}}</a></li><li ng-show=vm.isLoggedIn()><a href ng-click=vm.logOut()><span class="glyphicon glyphicon-log-out"></span> Logout</a></li></ul></div></nav>'),e.put("/app/common/components/starRating/starRating.template.html",'<div ng-hide="!vm.ratingValue && vm.isReadOnly" class=star-ratings-css><div class=star-ratings-css-top style="width: {{vm.percentage}}"><span ng-repeat="star in vm.getNumber(vm.max) track by $index" ng-click=vm.toggle($index) class="glyphicon glyphicon-star"></span></div><div class=star-ratings-css-bottom ng-class="{\'no-pointer\': vm.isReadOnly}"><span ng-repeat="star in vm.getNumber(vm.max) track by $index" ng-click=vm.toggle($index) class="glyphicon glyphicon-star"></span></div></div><p ng-show="!vm.ratingValue && vm.isReadOnly">No ratings added yet...</p>'),e.put("/app/common/components/reviews/reviews.template.html",'<h3>Reviews</h3><p ng-show="vm.reviews.length === 0">No reviews added yet...</p><ul><li ng-repeat="review in vm.reviews"><blockquote><star-rating rating-value=review.stars is-read-only=true></star-rating><strong><p>{{review.stars}} Stars</p></strong> {{review.body}} <cite class=clearfix>—{{review.author}} on {{review.createdOn | date}}</cite><div ng-show="vm.currentUser === review.author"><a ng-click=vm.editReview($index)>edit</a> <a ng-click=vm.deleteReview($index)>delete</a></div></blockquote></li></ul><form name=reviewForm novalidate ng-show=vm.isLoggedIn><blockquote ng-show=vm.review><star-rating rating-value=vm.review.stars is-read-only=true></star-rating><strong>{{vm.review.stars}} Stars</strong> {{vm.review.body}} <cite class=clearfix>—{{vm.review.author}}</cite></blockquote><h4>{{vm.editionIndex ? "Edit your review" : "Submit a review"}}</h4><fieldset class=form-group><star-rating rating-value=vm.review.stars></star-rating></fieldset><fieldset class=form-group><textarea ng-model=vm.review.body class=form-control placeholder="Write a short review of the record..." title=Review></textarea></fieldset><fieldset class=form-group ng-hide="vm.editionIndex == false"><input type=submit class="btn btn-primary" value="Submit Review" ng-click="reviewForm.$valid && vm.addReview(vm.review)"></fieldset><fieldset class=form-group ng-show="vm.editionIndex == false"><input type=submit class="btn btn-primary" value="Update Review" ng-click="reviewForm.$valid && vm.updateReview(vm.review, vm.editionIndex)"> <input class="btn btn-danger" value=Cancel ng-click=vm.clearReviewForm()></fieldset></form>'),e.put("/app/common/components/uploadBox/uploadBox.template.html",'<ul ui-sortable ng-model=vm.images class=row><li ng-repeat="image in vm.images track by $index" class=col-sm-3><img ng-show=image ngf-thumbnail=image style="width: 100%"><br><button type=button class="btn btn-danger" ng-click="vm.removeImage(vm.images, $index)">remove</button></li></ul><div><div ngf-drop ngf-multiple=true ng-model=vm.uploads ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'" ngf-max-size=20MB ngf-min-height=1 ngf-resize="{width: 800, height: 600, centerCrop: true}" class=upload-drop-zone>Drop files here</div></div>'),e.put("/app/common/directives/footer/footer.template.html",'<div class=container><p class="text-muted pull-right">vinyl application 2016</p></div>'),e.put("/app/common/directives/singleFileDrop/singleFileDrop.template.html",'<span><div ng-hide=file ngf-drop ngf-multiple=false ng-model=file name=avatar ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'" ngf-max-size=20MB ngf-min-height=1 ngf-resize="{width: 600, height: 600, centerCrop: true}" class=upload-drop-zone>{{caption}}</div><img ng-show=file ngf-thumbnail=file><br><button ng-show=file type=button class="btn btn-danger" ng-click="file = \'\'">remove</button></span>'),
e.put("/app/vinyls/components/tracklistEditor/tracklistEditor.template.html",'<h3>tracklist</h3><p ng-hide=vm.tracklist.length>No tracks added yet...</p><ul ng-hide=vm.isReadOnly ui-sortable class=list-group ng-model=vm.tracklist><li class=list-group-item ng-repeat="track in vm.tracklist track by $index">{{$index + 1}} {{track.title}} <span class=pull-right>{{track.duration.minutes}}:{{track.duration.seconds | twoDigits}} <a ng-hide=vm.isReadOnly ng-click="vm.removeTrack($index, vm.tracklist)">remove</a></span></li></ul><ul ng-show=vm.isReadOnly class=list-group ng-model=vm.tracklist><li class=list-group-item ng-repeat="track in vm.tracklist track by $index">{{$index + 1}} {{track.title}} <span class=pull-right>{{track.duration.minutes}}:{{track.duration.seconds | twoDigits}}</span></li></ul><form ng-hide=vm.isReadOnly class=form-inline ng-submit="vm.addTrack(vm.track, vm.tracklist)"><fieldset class=form-group><label for=track-title>track title</label> <input class=form-control type=text id=track-title ng-model=vm.track.title placeholder="Enter track name here..." required></fieldset><fieldset class=form-group><label for=track-duration>track duration</label> <span><input ng-model=vm.track.duration.minutes type=number class=form-control placeholder=00 min=0 max=60 step=1 required> <span>:</span> <input id=track-duration ng-model=vm.track.duration.seconds type=number class=form-control placeholder=00 min=0 max=59 step=1 required></span></fieldset><input type=submit class="btn btn-primary" value="add track"></form>')}]);