!function(){angular.module("vinylApp",["ngRoute","ngGravatar","ngFileUpload","ngResource","validation.match","ngAnimate","ui.bootstrap","ui.sortable"])}(),function(){"use strict";angular.module("ngGravatar",["angular-md5"]),angular.module("ngGravatar").directive("gravatar",function(){return{replace:!0,restrict:"E",template:"<img ng-src={{gravatarUrl}}>",scope:{email:"="},controller:["$scope","md5",function(e,t){var r=200,i="http://www.gravatar.com/avatar/";e.$watch("email",function(n,a){e.gravatarUrl=i+t.createHash(n||"")+"?size="+r.toString()})}]}})}(),function(){function e(e,t,r,i){var n=this;n.styles=["rock","blues","funk"],n.artist={images:[]},n.createArtist=function(i){console.log(i),e.createArtist(i).$promise.then(function(n){i._id=n._id,e.updateArtistFiles(i).then(function(e){r.success("artist added"),t.path("/artists")})})},n.removeImage=function(e,t){e.splice(t,1)},i.$watch("vm.uploads",function(e,t){if(e)for(var r=0;r<e.length;r++)n.artist.images.push(e[r])})}angular.module("vinylApp").controller("ArtistsCreateCtrl",["artistsData","$location","toastrNotification","$scope",e])}(),function(){function e(e,t,r,i){var n=this;n.styles=["rock","blues","funk"],n.artist=e.getArtist(t.id),n.updateArtist=function(t){e.updateArtist(t).$promise.then(function(n){e.updateArtistFiles(t).then(function(e){i.success("artist updated"),r.path("/artists/"+t._id)})}).catch(function(e){console.log(e.data.message)})},n.removeImage=function(e,t){e.splice(t,1)}}angular.module("vinylApp").controller("ArtistsEditCtrl",["artistsData","$routeParams","$location","toastrNotification",e])}(),function(){function e(e,t){var r=this;r.artists=e.getAllArtists(),r.getTime=function(e){return t.getTime(e)}}angular.module("vinylApp").controller("ArtistsIndexCtrl",["artistsData","time",e])}(),function(){function e(e,t,r,i,n){var a=this;e.getArtist(r.id).$promise.then(function(e){console.log(e),a.artist=e,a.isOwner=t.currentUser()&&t.currentUser()._id===e.addedBy,console.log(e)}),a.deleteArtist=function(){console.log(r.id),e.deleteArtist(r.id).$promise.then(function(e){n.success("artist deleted"),i.path("/artists")})}}angular.module("vinylApp").controller("ArtistsShowCtrl",["artistsData","authentication","$routeParams","$location","toastrNotification",e])}(),function(){function e(e){var t=this;t.isLoggedIn=function(){return e.isLoggedIn()},t.currentUser=function(){return e.currentUser()}}angular.module("vinylApp").controller("homeCtrl",["authentication",e])}(),function(){function e(e,t){var r=this;r.createUser=function(i){console.log("update"),r.user.password!==r.user.passwordCopy?r.errMessage="passwords don't match!":t.createUser(i).then(function(t){e.path("/"),console.log(i)}).catch(function(e){console.log(e),r.errMessage=e.data.message})}}angular.module("vinylApp").controller("UsersCreateCtrl",["$location","usersData",e])}(),function(){function e(e,t,r,i){var n=this;n.user=t.getUser(e.id),n.updateUser=function(a){console.log("update"),n.user.password!==n.user.passwordCopy?n.errMessage="passwords don't match!":t.updateUser(a).then(function(t){i.success("profile updated"),r.path("/users/"+e.id),console.log(a)}).catch(function(e){console.log(e)})}}angular.module("vinylApp").controller("UsersEditCtrl",["$routeParams","usersData","$location","toastrNotification",e])}(),function(){"use strict";function e(e,t,r,i){var n=this;n.users=e.getAllUsers(),n.getDateJoined=function(e){return t.getTime(e)};var a=r(function(){n.getDateJoined()},1e3);i.$on("$destroy",function(){r.cancel(a)})}angular.module("vinylApp").controller("usersIndexCtrl",["usersData","time","$interval","$scope",e])}(),function(){function e(e,t,r){var i=this;i.user=t.getUser(e.id),i.isOwner=r.isLoggedIn()&&r.currentUser()._id===e.id}angular.module("vinylApp").controller("usersShowCtrl",["$routeParams","usersData","authentication",e])}(),function(){function e(e,t,r,i){var n=this;n.vinyl={tracklist:[]},n.artists=t.getAllArtists(),n.createVinyl=function(t){e.createVinyl(t).$promise.then(function(n){t._id=n._id,e.updateVinylFile(t).then(function(e){i.success("vinyl added"),r.path("/vinyls")})})}}angular.module("vinylApp").controller("vinylsCreateCtrl",["vinylsData","artistsData","$location","toastrNotification",e])}(),function(){function e(e,t,r,i,n){var a=this;e.getVinyl(r.id).$promise.then(function(e){a.vinyl=e}),a.artists=t.getAllArtists(),a.updateVinyl=function(t){e.updateVinyl(t).$promise.then(function(r){e.updateVinylFile(t).then(function(e){n.success("vinyl updated"),i.path("/vinyls/"+t._id)})})}}angular.module("vinylApp").controller("vinylsEditCtrl",["vinylsData","artistsData","$routeParams","$location","toastrNotification",e])}(),function(){function e(e,t,r,i){var n=this;n.vinyls=e.getAllVinyls(),n.getTime=function(e){return t.getTime(e)};var a=r(function(){n.getTime()},1e3);i.$on("$destroy",function(){r.cancel(a)})}angular.module("vinylApp").controller("vinylsIndexCtrl",["vinylsData","time","$interval","$scope",e])}(),function(){function e(e,t,r,i,n){function a(e){for(var t=0,r=0;r<e.reviews.length;r++)t+=e.reviews[r].stars;var i=t/e.reviews.length;e.averageRating=i}var s=this;e.getVinyl(t.id).$promise.then(function(e){console.log(e),s.vinyl=e,s.isOwner=i.currentUser()&&i.currentUser()._id===e.addedBy}),s.deleteVinyl=function(){e.deleteVinyl(t.id).$promise.then(function(e){r.path("/vinyls")})},s.updateVinylReview=function(t){s.vinyl.review=t,a(s.vinyl),console.log(s.vinyl),e.updateVinylReview(s.vinyl).$promise.then(function(){})}}angular.module("vinylApp").controller("vinylsShowCtrl",["vinylsData","$routeParams","$location","authentication","toastrNotification",e])}(),function(){"use strict";function e(e,t){var r=this;r.credentials={_id:"",email:"",password:""},r.onSubmit=function(){t.register(r.credentials).then(function(){e.path("/")}).catch(function(e){r.errMessage=e.data.message})}}angular.module("vinylApp").controller("registerCtrl",["$location","authentication",e])}(),function(){function e(e,t){var r=this;r.credentials={email:"",password:""},r.onSubmit=function(){t.login(r.credentials).then(function(){e.path("/")}).catch(function(e){r.errMessage=e.data.message})}}angular.module("vinylApp").controller("loginCtrl",["$location","authentication",e])}(),function(){angular.module("vinylApp").config(["$locationProvider",function(e){e.hashPrefix("")}])}(),function(){angular.module("vinylApp").filter("twoDigits",function(){return function(e){return"number"!=typeof e||e<0||e>99?"bad input...":("0"+e).slice(-2)}})}(),function(){angular.module("vinylApp").config(["$routeProvider",function(e){e.when("/",{templateUrl:"/app/home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/login",{templateUrl:"/app/auth/login/login.view.html",controller:"loginCtrl",controllerAs:"vm"}).when("/profile",{templateUrl:"/app/profile/profile.view.html",controller:"profileCtrl",controllerAs:"vm"}).when("/vinyls",{templateUrl:"/app/vinyls/views/index.html",controller:"vinylsIndexCtrl",controllerAs:"vm"}).when("/vinyls/new",{templateUrl:"/app/vinyls/views/new.html",controller:"vinylsCreateCtrl",controllerAs:"vm"}).when("/vinyls/:id/edit",{templateUrl:"/app/vinyls/views/edit.html",controller:"vinylsEditCtrl",controllerAs:"vm"}).when("/vinyls/:id",{templateUrl:"/app/vinyls/views/show.html",controller:"vinylsShowCtrl",controllerAs:"vm"}).when("/artists",{templateUrl:"/app/artists/views/index.html",controller:"ArtistsIndexCtrl",controllerAs:"vm"}).when("/artists/new",{templateUrl:"/app/artists/views/new.html",controller:"ArtistsCreateCtrl",controllerAs:"vm"}).when("/artists/:id/edit",{templateUrl:"/app/artists/views/edit.html",controller:"ArtistsEditCtrl",controllerAs:"vm"}).when("/artists/:id",{templateUrl:"/app/artists/views/show.html",controller:"ArtistsShowCtrl",controllerAs:"vm"}).when("/users",{templateUrl:"/app/users/views/index.html",controller:"usersIndexCtrl",controllerAs:"vm"}).when("/users/new",{templateUrl:"/app/users/views/new.html",controller:"UsersCreateCtrl",controllerAs:"vm"}).when("/users/:id/edit",{templateUrl:"/app/users/views/edit.html",controller:"UsersEditCtrl",controllerAs:"vm"}).when("/users/:id",{templateUrl:"/app/users/views/show.html",controller:"usersShowCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"})}])}(),function(){function e(e,t,r){var i="/artists/:id",n={Authorization:function(){return"Bearer "+t.getToken()}},a={get:{method:"GET",headers:n},save:{method:"POST",headers:n},create:{method:"POST",headers:n},query:{method:"GET",isArray:!0,headers:n},remove:{method:"DELETE",headers:n},delete:{method:"DELETE",headers:n},update:{method:"PUT",headers:n}},s=e(i,{id:"@id"},a),o=function(){return s.query()},l=function(e){return s.get({id:e})},d=function(e){return s.create(e)},c=function(e){return s.delete({id:e})},u=function(e){return s.update({id:e._id},e)},m=function(e){var i=e.images;return r.upload({method:"PUT",url:"/artists/files/"+e._id,headers:{Authorization:"Bearer "+t.getToken()},arrayKey:"",data:{images:i}})};return{getAllArtists:o,getArtist:l,createArtist:d,deleteArtist:c,updateArtist:u,updateArtistFiles:m}}angular.module("vinylApp").factory("artistsData",["$resource","authentication","Upload",e])}(),function(){"use strict";function e(e,t){var r=function(e){t.localStorage["mean-token"]=e},i=function(){return t.localStorage["mean-token"]},n=function(){var e,r=i();return!!r&&(e=r.split(".")[1],e=t.atob(e),e=JSON.parse(e),e.exp>Date.now()/1e3)},a=function(){if(n()){var e=i(),r=e.split(".")[1];return r=t.atob(r),r=JSON.parse(r),{_id:r._id,email:r.email}}},s=function(t){return e.post("/auth/login",t).then(function(e){console.log(e),r(e.data.token)})},o=function(){t.localStorage.removeItem("mean-token")};return{currentUser:a,saveToken:r,getToken:i,isLoggedIn:n,login:s,logout:o}}angular.module("vinylApp").factory("authentication",["$http","$window",e])}(),function(){"use strict";function e(){function e(e,t){return Math.floor(e/t)}function t(e){return 1!==e?"s":""}function r(e,r){return e+" "+r+t(e)+" ago"}var i=function(t){var i,n=Date.now()-t,a=n/1e3,s=1,o=60*s,l=60*o,d=24*l,c=7*d,u=30*d,m=12*u;return a<o?(i=e(a,s),r(i,"second")):a<l?(i=e(a,o),r(i,"minute")):a<d?(i=e(a,l),r(i,"hour")):a<c?(i=e(a,d),r(i,"day")):a<u?(i=e(a,c),r(i,"week")):a<m?(i=e(a,u),r(i,"month")):(i=e(a,m),r(i,"year"))};return{getTime:i}}angular.module("vinylApp").factory("time",e)}(),function(){"use strict";function e(){return{success:function(e){toastr.success(e,"Success")},error:function(e){toastr.error(e,"Error")}}}angular.module("vinylApp").factory("toastrNotification",e)}(),function(){function e(e,t){var r="/users/:id",i={Authorization:function(){return"Bearer "+t.getToken()}},n={get:{method:"GET",headers:i},save:{method:"POST",headers:i},create:{method:"POST",headers:i},query:{method:"GET",isArray:!0,headers:i},remove:{method:"DELETE",headers:i},delete:{method:"DELETE",headers:i},update:{method:"PUT",headers:i}},a=e(r,{id:"@id"},n),s=function(){return a.query()},o=function(e){return a.get({id:e})},l=function(e){return a.update({id:e._id},e).$promise.then(function(e){t.saveToken(e.token)})},d=function(e){return a.create(e).$promise.then(function(e){t.saveToken(e.token)})};return{getUser:o,getAllUsers:s,updateUser:l,createUser:d}}angular.module("vinylApp").factory("usersData",["$resource","authentication",e])}(),function(){function e(e,t,r){var i="/vinyls/:id",n="/vinyls/reviews/:id",a={Authorization:function(){return"Bearer "+r.getToken()}},s={get:{method:"GET",headers:a},save:{method:"POST",headers:a},create:{method:"POST",headers:a},query:{method:"GET",isArray:!0,headers:a},remove:{method:"DELETE",headers:a},delete:{method:"DELETE",headers:a},update:{method:"PUT",headers:a}},o=e(i,{id:"@id"},s),l=e(n,{id:"@id"},s),d=function(){return o.query()},c=function(e){return o.get({id:e})},u=function(e){return o.create(e)},m=function(e){return o.update({id:e._id},e)},v=function(e){return o.delete({id:e})},p=function(e){var i=e.images&&e.images.frontCover,n=e.images&&e.images.backCover;return t.upload({method:"PUT",url:"/vinyls/files/"+e._id,headers:{Authorization:"Bearer "+r.getToken()},data:{frontCover:i,backCover:n}})},g=function(e){return l.update({id:e._id},e)};return{getAllVinyls:d,getVinyl:c,createVinyl:u,updateVinyl:m,deleteVinyl:v,updateVinylFile:p,updateVinylReview:g}}angular.module("vinylApp").factory("vinylsData",["$resource","Upload","authentication",e])}(),function(){function e(e,t,r){function i(e,t){var r=0;return angular.forEach(e,function(e){r+=e.addedBy===t?1:0}),r}var n=this;e.getAllVinyls().$promise.then(function(e){n.myVinylCount=i(e,r.currentUser()._id)}),t.getAllArtists().$promise.then(function(e){n.myArtistCount=i(e,r.currentUser()._id)})}angular.module("vinylApp").controller("DashboardCtrl",["vinylsData","artistsData","authentication",e])}(),function(){function e(){return{restrict:"E",controller:"DashboardCtrl as dbdvm",templateUrl:"/app/home/directives/dashboard.template.html"}}angular.module("vinylApp").directive("dashboard",e)}(),function(){"use strict";angular.module("vinylApp").component("errorHeader",{templateUrl:"/app/common/components/errorHeader/errorHeader.template.html",bindings:{message:"="},controllerAs:"vm"})}(),function(){"use strict";function e(e,t){var r=this;r.isLoggedIn=function(){return t.isLoggedIn()},r.currentUser=function(){return t.currentUser()},r.logOut=function(){t.logout(),e.path("/")}}angular.module("vinylApp").component("navigation",{templateUrl:"/app/common/components/navigation/navigation.template.html",controller:["$location","authentication",e],controllerAs:"vm",bindings:{images:"="}})}(),function(){"use strict";function e(e,t){var r=this;r.currentUser=e.currentUser()._id,r.isLoggedIn=e.isLoggedIn(),r.addReview=function(i){i.author=e.currentUser()._id,i.createdOn=Date.now(),r.reviews.push(r.review),r.clearReviewForm(),r.updateMethod({review:r.reviews}),t.success("review added")},r.editReview=function(e){r.editionIndex=e,r.review=Object.create(r.reviews[e])},r.deleteReview=function(e){r.reviews.splice(e,1),r.updateMethod({review:r.reviews}),t.success("review deleted")},r.clearReviewForm=function(){r.review=null,r.editionIndex=null},r.updateReview=function(e,i){e.createdOn=Date.now(),r.reviews[i]=e,r.clearReviewForm(),r.updateMethod({review:r.reviews}),t.success("review updated")}}angular.module("vinylApp").component("reviews",{templateUrl:"/app/common/components/reviews/reviews.template.html",controller:["authentication","toastrNotification",e],controllerAs:"vm",bindings:{reviews:"=",updateMethod:"&"}})}(),function(){"use strict";angular.module("vinylApp").component("starRating",{templateUrl:"/app/common/components/starRating/starRating.template.html",controller:"StarRatingController",controllerAs:"vm",bindings:{ratingValue:"=",isReadOnly:"="}})}(),function(){function e(e){function t(e,t){var r=e/t||0;return 100*r+"%"}var r=this;r.max=5,r.getNumber=function(e){return new Array(e)},r.toggle=function(e){r.isReadOnly||(r.ratingValue=e+1,r.percentage=t(r.ratingValue,r.max))},e.$watch("vm.ratingValue",function(e,i){r.percentage=t(r.ratingValue,r.max)})}angular.module("vinylApp").controller("StarRatingController",["$scope",e])}(),function(){"use strict";function e(e){var t=this;e.$watch("vm.uploads",function(e,r){if(e)for(var i=0;i<e.length;i++)t.images.push(e[i])}),t.removeImage=function(e,t){e.splice(t,1)}}angular.module("vinylApp").component("uploadBox",{templateUrl:"/app/common/components/uploadBox/uploadBox.template.html",controller:["$scope",e],controllerAs:"vm",bindings:{images:"="}})}(),function(){function e(){return{restrict:"E",templateUrl:"/app/common/directives/footer/footer.template.html"}}angular.module("vinylApp").directive("footer",e)}(),function(){"use strict";function e(){return{restrict:"E",template:'<a ng-click="open()">open modal lev</a>',controller:["$scope","$uibModal",t],scope:{url:"@"}}}function t(e,t){var r={template:'<img src="{{url}}">',scope:e};e.open=function(){console.log("modal"),console.log(e.url),t.open(r)}}angular.module("vinylApp").directive("modalImage",e)}(),function(){"use strict";angular.module("vinylApp").directive("singleFileDrop",function(){return{replace:!0,restrict:"E",templateUrl:"/app/common/directives/singleFileDrop/singleFileDrop.template.html",scope:{file:"=",caption:"@"}}})}(),function(){"use strict";function e(){function e(){t.track={title:"",duration:{minutes:"",seconds:""}}}var t=this;t.addTrack=function(t,r){r.push(t),e()},t.removeTrack=function(e,t){var r=t.indexOf(e);t.splice(r,1)},t.sortableOptions={update:function(e,r){console.log(t.tracklist)}}}angular.module("vinylApp").component("tracklistEditor",{templateUrl:"/app/vinyls/components/tracklistEditor/tracklistEditor.template.html",controller:e,controllerAs:"vm",bindings:{tracklist:"=",isReadOnly:"="}})}(),angular.module("vinylApp").run(["$templateCache",function(e){e.put("/app/home/home.view.html","<div class=container ng-hide=vm.isLoggedIn()><h1>Hello there</h1><p>Won't you please <a href=#/login>sign in</a> or <a href=#/users/new>register</a>?</p></div><div class=container ng-if=vm.isLoggedIn()><h1>Welcome {{vm.currentUser()._id}} !</h1><dashboard></dashboard></div>"),e.put("/app/artists/views/edit.html",'<div class=container><h1>You are editing artist {{vm.artist._id}}...</h1><form name=newUserForm novalidate ng-submit="newUserForm.$valid && vm.updateArtist(vm.artist)"><div class=form-group><label for=style>Style:</label><br><select class=form-control id=style ng-options="style for style in vm.styles" ng-model=vm.artist.style required></select></div><upload-box images=vm.artist.images></upload-box><button type=submit class="btn btn-success">Save your Update</button></form></div>'),e.put("/app/artists/views/index.html",'<div class=container><div class=row><div ng-repeat="artist in vm.artists" class=col-sm-4><a ng-href=#/artists/{{artist._id}}><img ng-src={{artist.images[0]}} style="width: 100%"><h2>{{artist._id}}</h2></a> <span class="label label-info">{{artist.style}}</span><p>added by: {{artist.addedBy}}</p><p>{{vm.getTime(artist.dateAdded)}}</p></div></div></div>'),e.put("/app/artists/views/new.html",'<div class=container><h1>New Artist</h1><form name=newUserForm novalidate ng-submit="newUserForm.$valid && vm.createArtist(vm.artist)"><div class=form-group><label for=name>Name:</label> <input type=text class=form-control id=name ng-model=vm.artist._id required></div><div class=form-group><label for=style>Style:</label><br><select class=form-control id=style ng-options="style for style in vm.styles" ng-model=vm.artist.style required></select></div><upload-box images=vm.artist.images></upload-box><button type=submit class="btn btn-success">Save</button></form></div>'),e.put("/app/artists/views/show.html",'<div class=container><div class=jumbotron><h1>{{vm.artist._id}}</h1></div><h3>style</h3><p>{{vm.artist.style}}</p><div active=active uib-carousel><div uib-slide ng-repeat="image in vm.artist.images track by $index" index=$index><img ng-src={{image}} style=width:100%;></div></div><div ng-show=vm.isOwner><a href="#/artists/{{vm.artist._id}}/edit/"><button type=button class="btn btn-warning">Edit</button></a> <button type=button class="btn btn-danger" ng-click=vm.deleteArtist(vm.artist)>Delete</button></div></div>'),e.put("/app/auth/register/register.view.html",'<error-header message=vm.errMessage></error-header><div class=container><form ng-submit=vm.onSubmit()><div class=form-group><label for=name>Full name</label> <input type=text class=form-control id=name placeholder="Enter your name" ng-model=vm.credentials._id></div><div class=form-group><label for=email>Email address</label> <input type=email class=form-control id=email placeholder="Enter email" ng-model=vm.credentials.email></div><div class=form-group><label for=password>Password</label> <input type=password class=form-control id=password placeholder=Password ng-model=vm.credentials.password></div><button type=submit class="btn btn-default">Register!</button></form></div>'),e.put("/app/auth/login/login.view.html",'<error-header message=vm.errMessage></error-header><div class=container><form ng-submit=vm.onSubmit()><div class=form-group><label for=email>Email address</label> <input type=email class=form-control id=email placeholder="Enter email" ng-model=vm.credentials.email></div><div class=form-group><label for=password>Password</label> <input type=password class=form-control id=password placeholder=Password ng-model=vm.credentials.password></div><p>Not a Member yet ? <a href=#/users/new>Register</a></p><button type=submit class="btn btn-default">Sign in!</button></form></div>'),e.put("/app/home/directives/dashboard.template.html",'<h4>This is your dashboard:</h4><div class=row><div class="col-sm-6 text-center"><div class=jumbotron><h1>{{dbdvm.myVinylCount}}</h1><h2>records</h2></div></div><div class="col-sm-6 text-center" "><div class=jumbotron><h1>{{dbdvm.myArtistCount}}</h1><h2>artists</h2></div></div></div>'),e.put("/app/users/views/edit.html",'<error-header message=vm.errMessage></error-header><div class=container><h2>Edit your profile here, {{vm.user._id}}...</h2><form><div class=form-group><label for=email>Email address</label> <input type=email class=form-control id=email placeholder="Enter email" ng-model=vm.user.email></div><div class=form-group><label for=password>Password</label> <input type=password class=form-control id=password placeholder=Password ng-model=vm.user.password></div><div class=form-group><label for=password>Confirm password</label> <input type=password match=vm.user.password class=form-control id=password placeholder=Password ng-model=vm.user.passwordCopy></div><button type=submit class="btn btn-success" ng-click=vm.updateUser(vm.user)>Update my profile</button></form></div>'),e.put("/app/users/views/index.html",'<div class=container><div class=row><div ng-repeat="user in vm.users" class=col-sm-4><a ng-href=#/users/{{user._id}}><gravatar email=user.email></gravatar><h3>{{user._id}}</h3></a><p>joined {{vm.getDateJoined(user.dateJoined)}}</p></div></div></div>'),e.put("/app/users/views/new.html",'<error-header message=vm.errMessage></error-header><div class=container><form novalidate name=registerForm ng-submit="registerForm.$valid && vm.createUser(vm.user)"><div class=form-group><label for=name>Full name</label> <input type=text required class=form-control id=name placeholder="Enter your name" ng-model=vm.user._id></div><div class=form-group><label for=email>Email address</label> <input type=email required class=form-control id=email name=email placeholder="Enter email" ng-model=vm.user.email></div><div class=form-group><label for=password>Password</label> <input type=password required class=form-control id=password name=password placeholder=Password ng-model=vm.user.password></div><div class=form-group><label for=passwordCOpy>Confirm password</label> <input type=password match=vm.user.password required class=form-control id=passwordCopy name=passwordCopy placeholder=Password ng-model=vm.user.passwordCopy></div><button type=submit class="btn btn-default">Register!</button></form></div><pre>registerForm.password.$error = {{ register.password.$error | json }}</pre><pre>registerForm.passwordCopy.$error = {{ register.passwordCopy.$error | json }}</pre>'),e.put("/app/users/views/show.html",'<div class=container><gravatar email=vm.user.email></gravatar><h1>Username</h1><p>{{vm.user._id}}</p><h1>email</h1><p>{{vm.user.email}}</p><div ng-show=vm.isOwner><a href="#/users/{{vm.user._id}}/edit/"><button type=button class="btn btn-warning">Edit my profile</button></a></div></div>'),e.put("/app/vinyls/views/edit.html",'<div class=container><h1>Edit Vinyl</h1><form><fieldset class=form-group><label for=description>artist</label><br><input type=text ng-model=vm.vinyl.artist_id uib-typeahead="artist._id for artist in vm.artists | filter:$viewValue | limitTo:8" class=form-control></fieldset><fieldset class=form-group><label for=title>album</label> <input class=form-control type=text id=title name=title ng-model=vm.vinyl.album></fieldset><fieldset class=form-group><label for=content>year</label> <input class=form-control type=text id=content name=content ng-model=vm.vinyl.year></fieldset><fieldset class=form-group><label for=cover>cover</label><br></fieldset><div class=row><div class=col-sm-6><single-file-drop file=vm.vinyl.images.frontCover caption="add front"></single-file-drop></div><div class=col-sm-6><single-file-drop file=vm.vinyl.images.backCover caption="add back"></single-file-drop></div></div></form><tracklist-editor tracklist=vm.vinyl.tracklist is-read-only=false></tracklist-editor><button type=button class="btn btn-success" ng-click=vm.updateVinyl(vm.vinyl)>Save</button></div>'),e.put("/app/vinyls/views/index.html",'<div class=container><div class=row><div ng-repeat="vinyl in vm.vinyls" class=col-sm-4><a ng-href=#/vinyls/{{vinyl._id}}><img ng-src="{{vinyl.images.frontCover || \'images/vinyl-default.jpg\'}}" style="width: 100%"><h2>{{vinyl.artist_id}}</h2><h3>{{vinyl.album}}</h3></a><star-rating rating-value=vinyl.averageRating is-read-only=true></star-rating><p>added by {{vinyl.addedBy}}</p><p>{{vm.getTime(vinyl.dateAdded)}}</p></div></div></div>'),e.put("/app/vinyls/views/new.html",'<div class=container><h1>New Vinyl</h1><form><fieldset class=form-group><label for=description>artist</label><br><input type=text ng-model=vm.vinyl.artist_id uib-typeahead="artist._id for artist in vm.artists | filter:$viewValue | limitTo:8" class=form-control></fieldset><fieldset class=form-group><label for=title>album</label> <input class=form-control type=text id=title name=title ng-model=vm.vinyl.album></fieldset><fieldset class=form-group><label for=content>year</label> <input class=form-control type=text id=content name=content ng-model=vm.vinyl.year></fieldset><fieldset class=form-group><label for=cover>cover</label><br></fieldset><div class=row><div class=col-sm-6><single-file-drop file=vm.vinyl.images.frontCover caption="add front"></single-file-drop></div><div class=col-sm-6><single-file-drop file=vm.vinyl.images.backCover caption="add back"></single-file-drop></div></div></form><tracklist-editor tracklist=vm.vinyl.tracklist></tracklist-editor><button type=button class="btn btn-success" ng-click=vm.createVinyl(vm.vinyl)>Save</button></div>'),e.put("/app/vinyls/views/show.html",'<div class=container><div class=row><div class=col-sm-6><img ng-src="{{vm.vinyl.images.frontCover || \'images/vinyl-default.jpg\'}}" style="width: 100%"></div><div class=col-sm-6><img ng-src="{{vm.vinyl.images.backCover || \'images/vinyl-default.jpg\'}}" style="width: 100%"></div></div><h2>artist</h2><a ng-href=#/artists/{{vm.vinyl.artist_id}}>{{vm.vinyl.artist_id}}</a><h3>album</h3><p>{{vm.vinyl.album}}</p><h3>average rating</h3><star-rating rating-value=vm.vinyl.averageRating is-read-only=true></star-rating><h3>year</h3><p>{{vm.vinyl.year}}</p><tracklist-editor tracklist=vm.vinyl.tracklist is-read-only=true></tracklist-editor><reviews reviews=vm.vinyl.reviews update-method=vm.updateVinylReview(review)></reviews><div ng-show=vm.isOwner><a href="#/vinyls/{{vm.vinyl._id}}/edit/"><button type=button class="btn btn-warning pull-right">Edit</button></a> <button type=button class="btn btn-danger pull-right" ng-click=vm.deleteVinyl(vm.vinyl)>Delete</button></div></div>'),e.put("/app/common/components/errorHeader/errorHeader.template.html",'<div ng-show=vm.message class=container><div class="alert alert-danger"><strong>Oops!</strong> {{vm.message}}</div></div>'),e.put("/app/common/components/navigation/navigation.template.html",'<nav class="navbar navbar-default"><div class=container><div class=navbar-header><a class=navbar-brand href="/#/">Vinyl store</a></div><ul class="nav navbar-nav"><li><a href=#/vinyls>Vinyls</a></li><li ng-show=vm.isLoggedIn()><a href=#/vinyls/new>Add vinyl</a></li><li><a href=#/artists>Artists</a></li><li ng-show=vm.isLoggedIn()><a href=#/artists/new>Add artist</a></li><li><a href=#/users>Users</a></li></ul><ul class="nav navbar-nav navbar-right"><li ng-hide=vm.isLoggedIn()><a href=#/login><span class="glyphicon glyphicon-log-in"></span> Sign in</a></li><li ng-show=vm.isLoggedIn()><a href=#/users/{{vm.currentUser()._id}}><span class="glyphicon glyphicon-user"></span> {{vm.currentUser()._id}}</a></li><li ng-show=vm.isLoggedIn()><a href ng-click=vm.logOut()><span class="glyphicon glyphicon-log-out"></span> Logout</a></li></ul></div></nav>'),e.put("/app/common/components/reviews/reviews.template.html",'<h3>Reviews</h3><p ng-show="vm.reviews.length === 0">No reviews added yet...</p><ul><li ng-repeat="review in vm.reviews"><blockquote><star-rating rating-value=review.stars is-read-only=true></star-rating><strong><p>{{review.stars}} Stars</p></strong> {{review.body}} <cite class=clearfix>—{{review.author}} on {{review.createdOn | date}}</cite><div ng-show="vm.currentUser === review.author"><a ng-click=vm.editReview($index)>edit</a> <a ng-click=vm.deleteReview($index)>delete</a></div></blockquote></li></ul><form name=reviewForm novalidate ng-show=vm.isLoggedIn><blockquote ng-show=vm.review><star-rating rating-value=vm.review.stars is-read-only=true></star-rating><strong>{{vm.review.stars}} Stars</strong> {{vm.review.body}} <cite class=clearfix>—{{vm.review.author}}</cite></blockquote><h4>{{vm.editionIndex ? "Edit your review" : "Submit a review"}}</h4><fieldset class=form-group><star-rating rating-value=vm.review.stars></star-rating></fieldset><fieldset class=form-group><textarea ng-model=vm.review.body class=form-control placeholder="Write a short review of the record..." title=Review></textarea></fieldset><fieldset class=form-group ng-hide=vm.editionIndex><input type=submit class="btn btn-primary" value="Submit Review" ng-click="reviewForm.$valid && vm.addReview(vm.review)"></fieldset><fieldset class=form-group ng-show=vm.editionIndex><input type=submit class="btn btn-primary" value="Update Review" ng-click="reviewForm.$valid && vm.updateReview(vm.review, vm.editionIndex)"> <input class="btn btn-danger" value=Cancel ng-click=vm.clearReviewForm()></fieldset></form>'),e.put("/app/common/components/starRating/starRating.template.html",'<div ng-hide="!vm.ratingValue && vm.isReadOnly" class=star-ratings-css><div class=star-ratings-css-top style="width: {{vm.percentage}}"><span ng-repeat="star in vm.getNumber(vm.max) track by $index" ng-click=vm.toggle($index) class="glyphicon glyphicon-star"></span></div><div class=star-ratings-css-bottom ng-class="{\'no-pointer\': vm.isReadOnly}"><span ng-repeat="star in vm.getNumber(vm.max) track by $index" ng-click=vm.toggle($index) class="glyphicon glyphicon-star"></span></div></div><p ng-show="!vm.ratingValue && vm.isReadOnly">No ratings added yet...</p>'),e.put("/app/common/components/uploadBox/uploadBox.template.html",'<ul ui-sortable ng-model=vm.images class=row><li ng-repeat="image in vm.images track by $index" class=col-sm-3><img ng-show=image ngf-thumbnail=image style="width: 100%"><br><button type=button class="btn btn-danger" ng-click="vm.removeImage(vm.images, $index)">remove</button></li></ul><div><div ngf-drop ngf-multiple=true ng-model=vm.uploads ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'" ngf-max-size=20MB ngf-min-height=1 ngf-resize="{width: 600, height: 400, centerCrop: true}" class=upload-drop-zone>Drop files here</div></div>'),e.put("/app/common/directives/footer/footer.template.html",'<div class=container><p class="text-muted pull-right">vinyl application 2016</p></div>'),e.put("/app/common/directives/singleFileDrop/singleFileDrop.template.html",'<span><div ng-hide=file ngf-drop ngf-multiple=false ng-model=file name=avatar ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'" ngf-max-size=20MB ngf-min-height=1 ngf-resize="{width: 300, height: 300, centerCrop: true}" class=upload-drop-zone>{{caption}}</div><img ng-show=file ngf-thumbnail=file><br><button ng-show=file type=button class="btn btn-danger" ng-click="file = \'\'">remove</button></span>'),e.put("/app/vinyls/components/tracklistEditor/tracklistEditor.template.html",'<h3>tracklist</h3><p ng-hide=vm.tracklist.length>No tracks added yet...</p><ul ng-hide=vm.isReadOnly ui-sortable class=list-group ng-model=vm.tracklist><li class=list-group-item ng-repeat="track in vm.tracklist track by $index">{{$index + 1}} {{track.title}} <span class=pull-right>{{track.duration.minutes}}:{{track.duration.seconds | twoDigits}} <a ng-hide=vm.isReadOnly ng-click="tvm.removeTrack(item, tracklist)">remove</a></span></li></ul><ul ng-show=vm.isReadOnly class=list-group ng-model=vm.tracklist><li class=list-group-item ng-repeat="track in vm.tracklist track by $index">{{$index + 1}} {{track.title}} <span class=pull-right>{{track.duration.minutes}}:{{track.duration.seconds | twoDigits}} <a ng-hide=vm.isReadOnly ng-click="tvm.removeTrack(item, tracklist)">remove</a></span></li></ul><form ng-hide=vm.isReadOnly class=form-inline ng-submit="vm.addTrack(vm.track, vm.tracklist)"><fieldset class=form-group><label for=track-title>track title</label> <input class=form-control type=text id=track-title ng-model=vm.track.title placeholder="Enter track name here..." required></fieldset><fieldset class=form-group><label for=track-duration>track duration</label> <span><input ng-model=vm.track.duration.minutes type=number class=form-control placeholder=00 min=0 max=60 step=1 required> <span>:</span> <input id=track-duration ng-model=vm.track.duration.seconds type=number class=form-control placeholder=00 min=0 max=59 step=1 required></span></fieldset><input type=submit class="btn btn-primary" value="add track"></form>');
}]);